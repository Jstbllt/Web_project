<!-- views/cpus_edit.ejs -->
<!-- RECEIVES: oneComputer [a single computer object] + brands [array of brand objects] -->
<%- include("partial_headers.ejs"); %>

<section class="p-3">
<h1>Add a new CPU</h1>

<p><a href='/cpus/list'>Back to the list</a></p>
<!-- body-parser ==> we cannot use multipart/form-data ==> no file uploads -->
<form action='/cpus/update/<%= oneCpu.cpu_id %>' method='post'
      enctype='application/x-www-form-urlencoded'>

    <table class="table table-striped table-bordered table-hover">
        <tr><td>Brand:</td>
            <td>
                <select name='cpu_brand'>
                    <% for (var b of brands) { %>
                        <% if(b.brand_id == 1 || b.brand_id == 11 || b.brand_id == 12) {%>
                            <option value='<%= b.brand_id %>'
                                    <%- b.brand_id==oneCpu.cpu_brand ? "selected='selected'" : "" %>
                            > <%= b.brand_name %> </option>
                        <% } %>
                    <% } %>
                </select>
            </td></tr>

        <tr><td>Model:</td>
            <td><input type='text' name='cpu_model' value='<%= oneCpu.cpu_model %>' /></td></tr>

        <tr><td>Base Frequency:</td>
            <td><input type='number' step="0.1" name='cpu_basefrequency' value='<%= oneCpu.cpu_basefrequency %>' /></td></tr>

        <tr><td>Boost Frequency:</td>
            <td><input type='number' step="0.1" name='cpu_boostfrequency' value='<%= oneCpu.cpu_boostfrequency %>' /></td></tr>

        <tr><td>Cores:</td>
            <td><input type='number' name='cpu_cores' value='<%= oneCpu.cpu_cores %>' /></td></tr>

        <tr><td colspan='2'> <input type='submit' value='SEND' onclick="alert('CPU updated')"/> </td></tr>

    </table>
</form>
</section>
<%- include("partial_footer.ejs"); %>